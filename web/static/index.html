<!DOCTYPE html><html lang="en"><head prefix="og: http://ogp.me/ns#"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;700&amp;display=swap" rel="stylesheet"><title>Events Visualization</title><meta property="og:url" content="https://zbryikt.github.io/geoevent/"><meta name="description" content=""><meta property="og:title" content="Events Visualization"><meta property="og:description" content=""><meta property="og:locale" content="en"><meta property="og:image" content="http://zbryikt.github.io/geoevent/assets/img/thumbnail.png"><meta property="og:image:type" content="image/jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:type" content="website"><link rel="icon" type="image/x-icon" href="assets/img/favicon.png"><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><style type="text/css">:root{--font-head:Lato,sans-serif;--font-head-weight:700;--font-body:Lato,sans-serif;--font-body-weight:300}.w-960{width:960px}@media(max-width:960px){.w-960.rwd{width:100%;padding:1em}}html,body{margin:0;padding:0;width:100%;height:100%;font-family:Lato,'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:18px}b,em{font-weight:700;font-style:normal}.btn-theme-default{background:#2c3e50;color:#fff}.btn-theme-gray{background:#95a5a6;color:#fff}.btn-theme-green{background:#18bc9c;color:#fff}#widget{width:100%;height:100%}#layout{position:absolute;top:0;left:20%;width:60%;margin:4% 0;height:68%}@media(max-width:768px){#layout{width:80%;left:10%}}@media(max-width:480px){#layout{left:0;width:100%;height:80%;margin:0;padding-bottom:30px}#layout .btn{border-radius:0;float:right}}#main{background:#eee;width:100%;height:400px;position:relative;z-index:;border-radius:5px;overflow:hidden;box-shadow:0 2px 2px rgba(0,0,0,0.5)}@media(max-width:480px){#main{border-radius:0;box-shadow:none}}#demopanel{width:100%;height:100%}#color{margin-bottom:3px}@media(max-width:480px){#color{margin-bottom:0}#color .btn,#color .btn-sm{padding:2px 5px;font-size:.8em}}#title img{height:16px;width:16px}#sample-doc{width:100%;height:300px}#result{border:0;background:#eee;width:100%;height:400px}#footer{width:100%;min-height:100px}#forkme{position:absolute;top:-15px;left:-15px;z-index:}#forkme img{border:0}@media(max-width:480px){#forkme{display:none}}</style><script type="text/javascript" src="/assets/lib/papaparse/main/papaparse.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script></head><body><div class="w-960 rwd mx-auto my-5"><a id="forkme" href="https://github.com/zbryikt/geoevent"><img decoding="async" width="149" height="149" src="assets/img/forkme.png" alt="Fork Me on GitHub" loading="lazy"></a><div id="hero"><div class="d-flex align-items-center justify-content-between mb-1"><div class="d-flex g-1 align-items-center"><img src="assets/img/favicon.png" width="16" height="16" alt="favicon"><div class="text-sm"><b>Events Visualization </b></div></div><div class="d-flex g-1"><div class="btn btn-theme-default btn-sm" ld="set-style" data-name="default">Default</div><div class="btn btn-theme-gray btn-sm" ld="set-style" data-name="gray">Gray</div><div class="btn btn-theme-green btn-sm" ld="set-style" data-name="green">Green</div></div></div><div id="main" ld="widget"></div></div><div class="mt-5" id="description"><h2>Events Visualization</h2><p>This tool helps you visualize events across time and space with bubbles of magnitude of events, and works on devices with different screen size. Above is an example of <a href="http://0media.tw/t/geoevent/widget/?src=1yY4pqGqI3rLMf5bQqe5XMztnnJ78RMUrfh-XpJdhd_o&amp;color=default&amp;ratio=20&amp;=undefined&amp;clat=12.573404&amp;clng=-15.193685&amp;initz=2">visualization of Islamic terrorist attacks from 1983 to 2015</a>.</p><div class="mt-4"><h4>Other showcase:</h4><ul><li><a href="http://0media.tw/t/geoevent/widget/?src=17u9luNKn77I4Tyz3pPADnr6sw3yiob0Z6Dy4_FFpbl4&amp;color=default&amp;ratio=5&amp;clat=20&amp;clng=0&amp;initz=2">Global Earthquake since 1902</a></li><li><a href="http://0media.tw/t/geoevent/widget/?src=1weTyy3X52QginfNbrSmxjR8WpsAEgJSRjzzqBJ8RaXk&amp;color=default&amp;ratio=20&amp;clat=20&amp;clng=0&amp;initz=2">Global Commercial Aricraft Accident</a> ( partial data )</li></ul></div><div class="my-5"><hr></div><h3>How to Use</h3><p>prepare the event data in a google spreadsheet formatted like this:</p><iframe class="mb-4" id="sample-doc" src="https://docs.google.com/spreadsheets/d/1yY4pqGqI3rLMf5bQqe5XMztnnJ78RMUrfh-XpJdhd_o/pubhtml?widget=true&amp;amp;headers=false"></iframe><p> 7 columns are required in following order: date, event, shortname, death, wounded, latitude, longitude:<ul><li><code>date</code>: Event date. YYYY/MM/DD or MM/DD/YYYY</li><li><code>event</code>: Event name. shown in timeline only if shortname is omitted</li><li><code>shortname</code>: short name of event for showing in timeline</li><li><code>death</code>: number of death</li><li><code>wounded</code>: number of wounded</li><li><code>latitude</code> and <code>longitude</code>: coordinate of the event </li></ul></p><p>and publish the spreadsheet by clicking <em>Menu</em> &#xbb; <em>Publish to the Web</em> &#xbb; <em>Publish</em>. Then, Copy &amp; paste the link of the spreadsheet in this input box:</p><div class="form-group" ng-class="{'has-error':sid==null &amp;&amp; datasrc}"><input class="form-control" placeholder="e.g.,https://docs.google.com/spreadsheets/d/1p0DNKBt4oNfDBgHv4ZXH-vu0bJ_PtxFFXCL7o4O_Cxo/pubhtml" ld="datasrc"></div><p>and setup following configuration:</p><div class="d-flex g-2 flex-wrap px-2 py-3 border rounded shadow-sm justify-content-around"><div class="d-flex g-2"><div><div class="text-sm font-weight-bold">colorschema</div><div class="btn-group"><div class="btn btn-theme-default btn-sm" ld="set-style" data-name="default">Default</div><div class="btn btn-theme-gray btn-sm" ld="set-style" data-name="gray">Gray</div><div class="btn btn-theme-green btn-sm" ld="set-style" data-name="green">Green</div></div></div><div><div class="text-sm font-weight-bold">circle size</div><div class="btn-group"><div class="btn btn-outline-secondary btn-sm" ld="set-ratio" data-value="1">Small</div><div class="btn btn-outline-secondary btn-sm" ld="set-ratio" data-value="5">Medium</div><div class="btn btn-outline-secondary btn-sm" ld="set-ratio" data-value="20">Large</div></div></div></div><div class="d-flex g-2"><div><div class="text-sm font-weight-bold d-flex align-items-center"><span class="mr-2">central latlng</span><input class="mr-1" type="checkbox" checked ld="autoll"><div class="font-weight-bold text-sm">auto</div></div><div class="d-flex g-2"><input class="form-control form-control-sm" ld="latlng" data-name="clat" placeholder="latitude" style="max-width:6.5em" disabled><input class="form-control form-control-sm" ld="latlng" data-name="clng" placeholder="longitude" style="max-width:6.5em" disabled></div></div><div><div class="text-sm font-weight-bold">initial zoom level</div><select class="form-control form-control-sm" ld="initz" style="min-width:120px" disabled><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option></select></div><div><div class="text-sm font-weight-bold">&nbsp;</div><div class="btn btn-danger btn-sm" ld="generate">Generate</div></div></div></div><br><p>result looks like this:</p><iframe id="result" ld="result"></iframe><p>html code for embedding in your websites:</p><textarea class="form-control" ld="embedcode" rows="5"></textarea><br><p>direct link to the result page: ( <div class="btn btn-sm btn-link" ld="open-url" target="_blank" rel="noopener noreferer">open in new tab</div> )</p><input class="form-control" ld="url" disabled><div class="my-4"><hr></div><div id="footer">For source code, please visit <a href="http://github.com/zbryikt/geoevent/">Github Repo</a> of the events visualization project.</div></div></div><script type="module">(function(t){return t.apply({})})(function(){var t,e,n,r=this;this.mgr=new block.manager({registry:function(t){if(t.ns==="local"){return"block/index.html"}if(!t.path){t.path="index."+({block:"html",css:"css",js:"js"}[t.type]||"html")}return"assets/lib/"+t.name+"/main/"+t.path}});this.host="http://0media.tw/t/geoevent";this.initz=1;this.autoll=true;this.clat=null;this.clng=null;this.sid=null;this.style="default";this.ratio=20;this.config={src:"1yY4pqGqI3rLMf5bQqe5XMztnnJ78RMUrfh-XpJdhd_o",color:"default",ratio:20,clat:12.573404,clng:-15.193685,initz:2};t=function(){var t;return r.sid=!(t=/\/d\/([^\/]+)/.exec(r.datasrc))?null:t[1]};e=function(t){var e;e=t.node;return r[e.getAttribute("data-name")]=e.value};this.setStyle=function(t){return this.style=t};this.setRatio=function(t){return this.ratio=t};this.updateWidget=function(){var t=this;return setTimeout(function(){if(!(t.sid&&t.style&&t.ratio)){return}if(!t.autoll&&!(t.clat&&t.clng)){return}t.outurl="/widget/?src="+t.sid+"&color="+t.style+"&ratio="+t.ratio;if(t.clat&&t.clng){t.outurl+="&clat="+t.clat+"&clng="+t.clng}if(!t.autoll){t.outurl+="&initz="+t.initz}t.outurlwithhost=host+t.outurl;t.embedcode="<iframe src='"+t.outurlwithhost+"'></iframe>";return n.get("result").setAttribute("src",t.outurlwithhost)},1e3)};return n=new ldview({root:document.body,init:{widget:function(t){var n;n=t.node;return ld$.fetch("assets/data/islamist-terrorist-attacks.csv",{method:"GET"},{type:"text"}).then(function(t){var e;e=Papa.parse(t).data;console.log(e);return r.mgr.from({ns:"local",name:"block"},{root:n,data:{data:e}})})}},action:{click:{"set-style":function(t){var e;e=t.node;return r.style=e.getAttribute("data-name")},"set-ratio":function(t){var e;e=t.node;return r.style=e.getAttribute("data-value")},generate:function(){return r.updateWidget()}},input:{latlng:e,datasrc:t},change:{latlng:e,datasrc:t,initz:function(t){var e;e=t.node;return r.initz=e.value},autoll:function(t){var e;e=t.node;return r.autoll=e.checked}},handler:{"set-style":function(t){var e;e=t.node;return e.classList.toggle("active",r.style===e.getAttribute("data-name"))},"set-ratio":function(t){var e;e=t.node;return e.classList.toggle("active",r.ratio===e.getAttribute("data-value"))}}}})});</script></body></html>